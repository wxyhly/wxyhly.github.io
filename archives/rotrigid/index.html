<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>四维世界（十）：旋转动力学 | Blog de Hqak (WXYHLY)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&#x2F;&#x2F;&#x2F; 注：本文虽然大篇幅讨论的虚构四维世界中的虚构的物理规律，但也对纯数学的单位四维2-向量的均匀随机分布规律进行了讨论。 内容概要 四维贾尼别科夫效应 有能量交换的多体旋转系统 角动量的随机分布律 四维刚体的的主轴定理  贾尼别科夫效应一个前苏联的宇航员在太空中把弄一个T字形零件，他偶然发现让零件漂浮着快速旋转起来，零件的旋转方向却突然时不时在空中翻转，后来就">
<meta property="og:type" content="article">
<meta property="og:title" content="四维世界（十）：旋转动力学">
<meta property="og:url" content="https://wxyhly.github.io/archives/rotrigid/index.html">
<meta property="og:site_name" content="Blog de Hqak (WXYHLY)">
<meta property="og:description" content="&#x2F;&#x2F;&#x2F; 注：本文虽然大篇幅讨论的虚构四维世界中的虚构的物理规律，但也对纯数学的单位四维2-向量的均匀随机分布规律进行了讨论。 内容概要 四维贾尼别科夫效应 有能量交换的多体旋转系统 角动量的随机分布律 四维刚体的的主轴定理  贾尼别科夫效应一个前苏联的宇航员在太空中把弄一个T字形零件，他偶然发现让零件漂浮着快速旋转起来，零件的旋转方向却突然时不时在空中翻转，后来就">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd001.gif">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd001.svg">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd005.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd002.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd001.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd004.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd003.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd006.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd002.svg">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd008.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd009.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd007.png">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd003.svg">
<meta property="og:image" content="https://wxyhly.github.io/img/rotrgd010.png">
<meta property="article:published_time" content="2024-06-10T15:43:59.000Z">
<meta property="article:modified_time" content="2024-06-12T01:12:58.268Z">
<meta property="article:author" content="wxyhly">
<meta property="article:tag" content="四维">
<meta property="article:tag" content="物理">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wxyhly.github.io/img/rotrgd001.gif">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  

<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Blog de Hqak (WXYHLY)</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives/">Archives</a>
        
          <a class="main-nav-link" href="/programs/">Programs</a>
        
          <a class="main-nav-link" href="/about/">About</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://wxyhly.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-rotrigid" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/archives/rotrigid/" class="article-date">
  <time datetime="2024-06-10T15:43:59.000Z" itemprop="datePublished">2024-06-10</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%9B%9B%E7%BB%B4%E4%B8%96%E7%95%8C%E7%B3%BB%E5%88%97/">四维世界系列</a>
  </div>

    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      四维世界（十）：旋转动力学
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div style="padding-left:25px;float:right">

<p><img src="/img/rotrgd001.gif" alt="太空中的贾尼别科夫效应"></div><p class="likecode">&#x2F;&#x2F;&#x2F; 注：本文虽然大篇幅讨论的虚构四维世界中的虚构的物理规律，但也对纯数学的单位四维2-向量的均匀随机分布规律进行了讨论。</p></p>
<h2 id="内容概要"><a href="#内容概要" class="headerlink" title="内容概要"></a>内容概要</h2><ul>
<li>四维贾尼别科夫效应</li>
<li>有能量交换的多体旋转系统</li>
<li>角动量的随机分布律</li>
<li>四维刚体的的主轴定理</li>
</ul>
<h2 id="贾尼别科夫效应"><a href="#贾尼别科夫效应" class="headerlink" title="贾尼别科夫效应"></a>贾尼别科夫效应</h2><p>一个前苏联的宇航员在太空中把弄一个T字形零件，他偶然发现让零件漂浮着快速旋转起来，零件的旋转方向却突然时不时在空中翻转，后来就以他的名字(Джанибеков)命名了这个<strong>贾尼别科夫效应</strong>(Dzhanibekov Effect)。<span id="more"></span></p>
<p>解释这个现象的方法很多，它的根源来源于角动量守恒与那个把手的转动惯量的各向异性。我们先从最简单的牛顿第一定律开始，它说物体不受外力作用一定会保持匀速直线运动或静止不动。然而这没有考虑物体的旋转。当物体不受外力时是不是应该保持匀速角速度旋转呢？并不是。其实，<strong>物体不受外力时并不是速度与角速度不变，而是动量与角动量不变</strong>，由于动量等于质量乘速度，一般物体的质量不会发生变化，所以能推出物体的速度也恰好不变，但物体的角动量与角速度之间的关系就复杂了。就拿一个网球拍来说，由于它各个方向的尺寸不同，绕不同的轴旋转的难易程度也不同，即每个方向的转动惯量不同。角动量等于转动惯量乘以角速度，当物体旋转起来后，这些轴也在跟着旋转，每个方向的转动惯量也在变，要想<strong>保持输出的总角动量不变，角速度就必须跟着转轴变才能抵消掉转动惯量的变化</strong>，这就是零件不受外力旋转时自己会翻转的原因。如果旋转物体是一个均匀对称的图形，比如正方体球体这种，它各个方向的转动惯量都相同，就只会老老实实地匀速旋转，不再有贾尼别科夫效应。</p>
<p><img src="/img/rotrgd001.svg" alt="网球拍定理，注意这里标的字母是旋转平面而不是旋转轴"><br>其实这个效应的出现条件还挺苛刻的，它还要求物体的初始旋转轴是介于长轴和短轴之间的中间轴，这是什么意思呢？由三维刚体力学的分析可知，任何刚体的转动惯量都等价于一个三轴椭球或长方体的惯量，只要描述了三个主轴的转动惯量就能确定整个物体的转动行为。因此我们可以把网球拍等效为一块长方体的板子，上图分别标出了网球拍绕长轴$a$，短轴$c$与中间轴$b$的转动，只有绕中间轴（上图中标红的轴）的转动不稳定才产生贾尼别科夫效应，这个关于旋转稳定性的定理亦称<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%BD%91%E7%90%83%E6%8B%8D%E5%AE%9A%E7%90%86/22714468">网球拍定理</a>。关于为什么只有中间轴旋转不稳定的，有<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=NJLdW4DHRcA">基于力学的解释</a>，也有<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tennis_racket_theorem#Geometric_analysis">基于能量的解释</a>，还有<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tennis_racket_theorem#Theory">基于欧拉旋转微分方程稳定性分析的解释</a>等等，这不是本文的重点，就不再赘述了。</p>
<h3 id="四维情况"><a href="#四维情况" class="headerlink" title="四维情况"></a>四维情况</h3><p>虽然我们无法实际在想象的四维空间中做实验来目睹四维效应，但可以通过Tesserxel中的物理引擎进行模拟。具体引擎中使用的物理公式我放在了附录中。首先要想旋转具有不稳定性，就必须要找四个“轴”都不等的物体，最简单就是超长方体了。不同于三维，四维空间的旋转发生在平面上，主轴之间的两两组合有六个方向，初始旋转位置也有六种可能性。<br><img src="/img/rotrgd005.png" alt="Tesserxel引擎模拟的正在翻转旋转方向的超长方体"><br>设超长方体有4条不等长的边$a$、$b$、$c$、$d$，且$a &lt; b &lt; c &lt; d$。我通过数值模拟计算发现了以下规律：</p>
<ol>
<li>初始旋转平面选在$ab$、$bc$或$cd$上都是稳定的。$ab$类似三维的最长轴，它的转动惯量最小；$cd$类似三维的最短轴，它的转动惯量最大；虽然旋转平面$bc$是一种“中间轴”，但却是稳定的。<a href="/tesserxel/examples/#rigids::dzhanibekov3">点击这里在Tesserxel中在线模拟$bc$平面的旋转</a>。</li>
<li>初始旋转平面选在$ac$或$bd$时会出现类似三维的中间轴不稳定的情况，且产生几乎跟三维情况相同的贾尼别科夫效应。<a href="/tesserxel/examples/#rigids::dzhanibekov1">点击这里在Tesserxel中在线模拟$ac$平面的旋转</a>。<img src="/img/rotrgd002.png" alt="单周期四维贾尼别科夫效应模拟，上面为局部坐标数据，下面为惯性系数据"></li>
<li>初始旋转平面选在$ad$上时旋转也不稳定，且会有两种周期的反向旋转交替进行，这是四维贾尼别科夫效应独有的一种现象。由于每个周期都会让旋转方向翻转，两个不同的周期共同作用导致刚体局部坐标系中的角动量变化曲线看起来像是一种脉宽调制(PWM)波形，<a href="/tesserxel/examples/#rigids::dzhanibekov2">点击这里在Tesserxel中在线模拟$ad$平面的旋转</a>。<img src="/img/rotrgd001.png" alt="双周期四维贾尼别科夫效应模拟，上面为局部坐标数据，下面为惯性系数据"></li>
</ol>
<p>以上的在线模拟中可以按键盘<code>L</code>在惯性坐标系与刚体的局部坐标系之间切换，刚体的轴从小到大对应的坐标分别是$x$、$y$、$z$、$w$。可以看出:<br>1.在惯性坐标系中：任何情况下，物体的角动量（字母J表示）的各个分量都不变，是一条直线，代表着角动量绝对守恒，而在有贾尼别科夫效应的场景中，可以看到除了初始角速度对应的分量不怎么变以外，在旋转方向发生颠倒时会临时出现一些较小的其它角速度分量（字母W表示）。<br>2. 将坐标系切换到局部坐标系后可以看到在每次物体反转时初始角速度对应的分量的方向也会跟着翻转。</p>
<p>这两种坐标系下角速度的行为为什么会截然不同呢？据说当时宇航员贾尼别科夫在太空偶然发现了这个效应后，他非常担心地球自转着某天也会突然翻转过来。当然后面我们知道地球的自转轴是三轴椭球最短的方向，旋转是稳定的，不用担心发生这种事。不妨假设地球的自转轴就是中间轴，本来地球是自西向东转的，太阳东升西落，当地球南北极颠倒后，由于总角动量的方向不会变，从宇宙的惯性系中看地球还是在自西向东转动，然而在地球上的人的感觉就不同了：原来的东西南北方已经由于地球的颠倒变成了实际的西东北南方，地面的人们会觉得太阳西升东落，但太空中的人们还是认为太阳东升西落，想必现在读者应该能理解惯性系和局部系之间角速度一个几乎不变、另一个周期性反向了吧。</p>
<h3 id="稳定性规律总结"><a href="#稳定性规律总结" class="headerlink" title="稳定性规律总结"></a>稳定性规律总结</h3><p>观察上面的三种情况不难发现稳定性的判断有以下规律：若平面是由按大小顺序排列相邻的边张成的则是稳定旋转，若中间相隔一个边则产生单周期的贾尼别科夫效应，若中间相隔两个边则产生双周期的贾尼别科夫效应，此外我还发现了一些关于等角旋转的规律：</p>
<ol>
<li>若初始的旋转是等角双旋转则旋转是稳定的，比如同时按相同角速度旋转$ac$与$bd$平面：<a href="/tesserxel/examples/#rigids::dzhanibekov4">点击这里在Tesserxel中在线模拟</a>。</li>
<li>若是非等角的双旋转，则看两个绝对垂直的旋转的角速度哪个大哪个的效应就更明显，且初始旋转越接近完美的等角双旋转，翻转周期就越长。下面这个在线模拟中，双旋转的两绝对垂直的旋转速度比例是$15&#x2F;16$，已经相当接近等角了，因此方向翻转的周期特别长，需要等半分多钟才能看到角动量的翻转：<a href="/tesserxel/examples/#rigids::dzhanibekov5">点击这里在Tesserxel中在线模拟</a>。<img src="/img/rotrgd004.png" alt="非等角双旋转四维贾尼别科夫效应模拟，上面为局部坐标数据，下面为惯性系数据"></li>
</ol>
<h3 id="小插曲"><a href="#小插曲" class="headerlink" title="小插曲"></a>小插曲</h3><p>我第一次听说贾尼别科夫效应其实是<a target="_blank" rel="noopener" href="https://marctenbosch.com/ndphysics/NDrigidbody.pdf">Marc ten Bosch在他的论文《𝑁-Dimensional Rigid Body Dynamics》中</a>提到的四维空间中的贾尼别科夫效应，然后我再去搜三维情形才知道苏联宇航员的那个故事，然后我才发现我之前些的四维引擎根本没考虑不均匀的转动惯量引起的刚体进动项，我赶忙补上了引擎中的这个大漏洞。</p>
<p>Marc ten Bosch的那篇论文里的结论跟我这篇文章的结论并不一样，他的模拟结果表明，四个轴都不相等的超长方体最终都会趋于双旋转这一种稳定状态，然而我认为该结果有误：试想一个比较接近超立方体的超长方体，它的各方向转动惯量虽有不同但差异不大。若初始旋转是一个简单旋转，对应角速度是简单2-向量，虽然总角动量不一定是简单2-向量，但应该不会偏离太多；如果演化到了等角双旋转，则角速度就是自对偶或反自对偶2-向量，跟简单2-向量的差异太大，不可能满足总角动量守恒。注意到Marc自己也说他模拟中出现了隐式求解器数值误差积累导致角速度明显减小（Tesserxel使用的是精度很高的四阶龙格库塔法），由于我不知道他是怎样算的，只能猜测很可能是同样原因导致了错误收敛到等角旋转的结果。我在数学软件Mathematica中和自己用typescript写的tesserxel物理引擎中求解都表明四维自由旋转的刚体不会自主趋于稳定的等角双旋转状态。<img style="width:100%;max-width:400px;" alt="Marc ten Bosch的论文插图，注意图(c)中的$\omega_{yz}$由于数值误差不断在减小" src="/img/rotrgd003.png"></p>
<h2 id="有能量交换的多体旋转系统"><a href="#有能量交换的多体旋转系统" class="headerlink" title="有能量交换的多体旋转系统"></a>有能量交换的多体旋转系统</h2><p>刚才我们看到的是孤零零的刚体的自由旋转。如果刚体内部有损耗，比如一个盛着液体的杯子，维基百科上说它将在保持总角动量不变的情况下逐渐趋于能量最低的稳定状态。那么一个有趣的问题来了: 一般四维星球的自转到底最可能是怎样的呢？是接近简单旋转可能性大，还是接近等角双旋转或一般双旋转的可能性大呢？<a target="_blank" rel="noopener" href="http://hi.gher.space/forum/viewtopic.php?f=27&t=1573&p=15978#p15805">Higher space论坛中有人认为</a>，等角双旋转的星球上各点速度大小一样，是能量最均分的稳定状态，简单旋转中的赤道速度最高，极道速度为零，并不是一种平衡态，因此最终所有星球都会演化至等角双旋转。然而跟Marc ten Bosch的疏忽一样，对于孤立的星球在总角动量的约束下是没办法从简单旋转直接演化到等角旋转的状态的，唯一的机会只能在星球形成的星系的前期演化过程中。由于四维天体力学存在很多设定上的硬伤Bug，星系的轨道系统在三次方反比衰减的引力场中不稳定，因此这里我们暂不讨论具体星球如何获得初始角动量，而是来看一个热力学“玩具模型”：想象有一个绝对光滑的超球形的腔体，里面充满了一堆初速度随机分布的小球（其实是超球），它们在里面像空气分子做布朗运动那样自由碰撞，小球表面有摩擦力使得它们可以交换动量与角动量，但没法从超球壁获得额外角动量，因此可以保持总角动量守恒。经过一段时间达到平衡态时这些小球的角速度的分布规律是怎样的呢？我在Tesserxel中放置了40个小球，并标出了每个小球的角速度的等角程度——自对偶为1，简单为0，反自对偶为-1，具体计算公式见<a href="#def_duality">这里</a>。<a href="/tesserxel/examples/#rigids::thermo_stats">点击这里在Tesserxel中在线模拟</a><br><img src="/img/rotrgd006.png" alt="Tesserxel的“旋转分布律（试验）”模拟场景"><br>由于它们在超球壳内碰撞且超球壳无法提供角动量，因此总角动量会保持守恒，但不同于单个孤立的刚体，整个系统的角动量由两部分组成，一个是轨道角动量，一个是自转角动量。这两部分各自是不守恒的，只有加起来的总角动量才守恒。给个简单的例子来加深理解: 想象真空中有两个质量几乎相同的宇航员，他们之间距离很近，保持相对静止。这时他们伸出手，以下图绿色箭头标出的方式击掌，相互作用力让他们开始旋转且互相远离。不难发现，他们都朝着同一个方向旋转，看似违背了总角动量守恒，其实除了自转有角动量，他们质心的运动也有轨道角动量，且方向是顺时针与自转的逆时针方向相反，所以总角动量还是守恒。<img src="/img/rotrgd002.svg" alt="红色是自转角动量，蓝色是轨道角动量，它们在宇航员击掌前后不守恒，但总角动量守恒"><br>通过Tesserxel的模拟发现，这些小球确实有时会共同趋于等角双旋转，若开始自转角动量自对偶部分大些，则最终全都会趋于自对偶的角动量，若初始旋转反自对偶分量大些，则最终全都趋于反自对偶角动量。<br><img src="/img/rotrgd008.png" alt="正在收敛至反自对偶状态"><br><img src="/img/rotrgd009.png" alt="几乎已经收敛至自对偶状态"><br>若初始角动量是简单的，则最终的稳态自对偶与反自对偶都有可能，有时则是完全均匀随机分布，看不出往哪边收敛，不排除模拟时间短，后续还是会收敛到对偶状态。我还偶然发现了一次同时向着两端收敛的情况，然而后面几乎没有再复现该情况。<br><img src="/img/rotrgd007.png" alt="同时向着自对偶/反自对偶两端收敛"></p>
<p>虽然我不敢保证上面的规律不是计算误差导致的假像，但这些现象至少跟总角动量守恒并不矛盾，因为自转多出来的等角分量可以被轨道角动量多出方向相反的分量来抵消掉，因此从这个意义上说星球演化趋于等角双旋转是有道理的。然而四维天体轨道的稳定性不允许我们等足够的时间让星球充分碰撞交换角动量，因此实际星球很难说都是等角双旋转的。既然无法想象合理的星系演化过程来推导星球的角动量，如果直接假设星球有随机方向的角动量，简单与复合2-向量怎样分布才算真正的随机呢？下面我们假设角动量的大小为1，探究如何均匀地随机生成任意方向的角速度2-向量。</p>
<h3 id="角动量的随机分布律"><a href="#角动量的随机分布律" class="headerlink" title="角动量的随机分布律"></a>角动量的随机分布律</h3><p>如何随机生成一个任意的单位2-向量呢？下面给出我想到的几种方法:</p>
<ol>
<li><a href="/archives/so4/#randsimplbiv">这里</a>已经介绍了基于左右等角分解的生成随机的简单单位2-向量的算法，可它不能生成复合的2-向量。有理由相信，将这些足够多的随机的2-向量叠加起来的方向就能逼近得到任意的均匀分布的随机2-向量。其实这相当于一个三维空间中的随机行走模型：我们每次叠加一个随机的简单2-向量相当于在三维的自对偶和反自对偶空间中都各进行了一步相同距离的随机行走，复合得到的新2-向量的对偶性取决于两个空间中随机行走的距离之比。</li>
<li><a href="/archives/so4/#randrotor">这里</a>已经介绍了基于对偶分解的可生成四维空间中的随机旋转的算法，对随机旋转取对数得到生成它的类似角动量的生成元2-向量，将它们单位化即可得到方向随机分布的2-向量。</li>
<li>还有种直接粗暴的做法：2-向量不过是有六个自由度的向量，我们要生成单位2-向量其实就是在六维空间中的五维超球面上生成均匀分布的点。</li>
</ol>
<p>以上三种方法生成的2-向量的分布规律是不是一样的呢？显然这些方法在四维空间中都是各向同性的，因此差异就体现在2-向量的对偶程度的分布上，即自对偶分量与反自对偶分量的分布比例。<a name="def_duality"></a>我专门定义了一种对偶程度来定量描述它：自对偶的对偶程度为1，反自对偶为-1，简单则为0。</p>
<div style="background-color:#EEF">

<h4 id="选读：对偶程度函数的定义"><a href="#选读：对偶程度函数的定义" class="headerlink" title="选读：对偶程度函数的定义"></a>选读：对偶程度函数的定义</h4><p>由于自对偶与反自对偶2-向量的另一种分量为0，直接定义比例会带来无穷大的问题，因此我将比值通过反正切函数转换成了角度，并进行归一化。设$A$是一个单位2-向量，则它的对偶程度定义为</p>
<p>$$\mathrm{duality}(A)&#x3D;{4 \over\pi}(\arctan(|A+A^*|,|A-A^*|)-{\pi\over 4})$$<br>它的几何意义是把单位圆周上的点的$x$、$y$坐标之比对应自对偶分量与反自对偶分量的比例，用弧长参数来衡量离哪个状态更接近。<br><img src="/img/rotrgd003.svg" alt="2-向量的对偶程度函数定义，红色代表简单2-向量，横轴为反自对偶，纵轴为自对偶"></p>
</div>

<p>下面是我模拟的结果：三种生成算法分别生成了两亿个2-向量，绘制出了三种算法得到的2-向量的对偶程度分布的直方图，其中红色对应生成100个简单2-向量叠加起来的“随机行走”算法，绿色对应生成随机旋转取对数的算法，蓝色对应五维超球面上取随机点的算法。可以看到随机旋转取对数生成的分布要向代表着简单2-向量的中部更集中些，而另外两种算法得到的分布几乎是一样的，我们可以确定“随机行走”算法与五维超球算法得到的分布才是真正的均匀分布。</p>
<p><img src="/img/rotrgd010.png" alt="随机单位2-向量对偶程度分布直方图，红色：“随机行走”算法，绿色：随即旋转对数算法，蓝色：五维超球面算法"></p>
<p>为什么随机旋转取对数得到的结果更偏向于简单2-向量呢？这是因为简单2-向量只能生成简单旋转，而复合2-向量有时也能生成简单旋转造成的。考虑2-向量${11\pi&#x2F; 6}e_{xy}+2\pi e_{zw}$生成的旋转：由于$2\pi e_{zw}$旋转了整整一周，相当于没旋转，因此整个旋转等效为沿$xy$方向旋转-30°的简单旋转，而这个2-向量其实非常接近于自对偶，取对数时只会给出最简单直接的旋转角度小于180度的生成元，不会恢复出原先的复合旋转，这样就导致了简单2-向量的比重被放大了。</p>
<h2 id="四维刚体的的主轴定理"><a href="#四维刚体的的主轴定理" class="headerlink" title="四维刚体的的主轴定理"></a>四维刚体的的主轴定理</h2><p>不知你有没有这样的疑惑，既然四维旋转的自由度是6，这意味着转动惯量有六个参数来描述（转动惯量是对称矩阵，一定可对角化因此需要6个参数），但刚才讨论的超长方体的尺寸只有四个，少了两个自由度，我们会不会遗漏了一些旋转稳定性分析的情况呢？比如会不会存在着一些比超长方体都还不对称的图形，它们有着更复杂的旋转规律呢？答案是没有。转动惯量的六个参数是不独立的，独立的自由度就是4，它们均可等效为超长方体的转动惯量。如果读者不关心具体细节，本文就到这里结束了。下面附上四维刚体转动惯量的推导以及主轴定理的证明。</p>
<div style="background-color:#EEF">

<h4 id="选读1：四维转动惯量张量的推导"><a href="#选读1：四维转动惯量张量的推导" class="headerlink" title="选读1：四维转动惯量张量的推导"></a>选读1：四维转动惯量张量的推导</h4><h5 id="刚体动量公式"><a href="#刚体动量公式" class="headerlink" title="刚体动量公式"></a>刚体动量公式</h5><p>我们先来看刚体动量公式的推导作为热身。质点的动量定义为$p&#x3D;mv$，其中$m$为质点的质量，$v$为质点的速度。刚体是许多质点的聚合体，于是刚体的总动量是各质点动量之和：<br>$$p&#x3D;\sum_i m_iv_i$$定义总质量$m$为$m&#x3D;\sum_i m_i$，则刚体的总动量相当于按各质点的质量比例对速度求加权平均的速度再乘总质量，即$$p&#x3D;m\sum_i {m_i\over m} v_i$$令刚体的平均速度$v$为$$v&#x3D;\sum_i {m_i\over m} v_i$$于是我们得到刚体的动量公式为$p&#x3D;mv$。简直跟质点的动量公式一模一样，更进一步，根据刚体重心的性质我们还可以知道这里的平均速度$v$正好就是重心的运动速度。这个性质在任何维度下都成立。</p>
<h5 id="刚体角动量公式"><a href="#刚体角动量公式" class="headerlink" title="刚体角动量公式"></a>刚体角动量公式</h5><p>下面来看角动量。三维空间中质点的角动量向量定义为$$J&#x3D;r\times p&#x3D;mr\times v$$其中$r$是质点的位置，$p&#x3D;mv$是质点的动量。但是我们知道，四维空间没有叉乘运算，角动量的方向不能再说是哪根轴，而应该说在哪个平面中，因此需要把定义中的叉乘换成楔积：$$J&#x3D;r\wedge p &#x3D; m r \wedge v$$刚体的总角动量$J$是各质点角动量之和：$$J&#x3D;\sum_i J_i &#x3D; \sum_i m_i r_i \wedge v_i$$<br>刚体有个特点，那就是为了保持刚体不形变，它各部分的速度之间是有强制约束关系的，具体体现在可以只用质心$r$处的速度$v$和绕质心转动的角速度$\omega$两个全局物理量来描述所有质点的速度分布，即：$$v_i&#x3D;v+(r_i-r).\omega$$注意这里位置乘上角速度得到线速度中的乘法运算不再是叉乘而是一种新的“点乘”，点乘法法则如下：<br>$$e_{y}.e_{xy}&#x3D;-e_{x}$$$$e_{x}.e_{xy}&#x3D;e_{y}$$$$e_{z}.e_{xy}&#x3D;0$$其中$x$、$y$、$z$可以是任意坐标轴对应的字母。它其实是<a href="/archives/gaqr/">几何代数</a>中推出的一种运算，读者只要清楚角速度$e_{xy}$方向代表着$xy$平面上发生的从$x$正半轴向$y$正半轴的旋转方向就可以很容易验证这与原先定义的角速度公式是一样的。</p>
<p>我们将新的速度关系式代入角动量表达式中，得到<br>$$J&#x3D;\sum_i m_i r_i \wedge (v+(r_i-r).\omega)$$<br>我们将两项拆开，第一项就是轨道角动量$L$，第二项就是自转角动量$S$：<br>$$J&#x3D;L+S&#x3D;(\sum_i m_i r_i \wedge v)+(\sum_i m_i r_i \wedge( (r_i-r).\omega))$$<br>注意质心$r$的定义恰好是质点位置对质量的加权平均，因此做变形：$$L&#x3D;m\sum_i {m_i\over m} r_i \wedge v$$容易发现最终可化简为$L&#x3D;m r  \wedge v$，即轨道角动量计算公式与单个质点的公式相同。</p>
<p>第二项自转角动量$S$要麻烦一些：$$S &#x3D; \sum_i m_i r_i \wedge ((r_i-r).\omega)$$我们给前面一项配一个项，把所有位置坐标都转换到相对质心来:$$S &#x3D; \sum_i m_i (r_i-r) \wedge ((r_i-r).\omega) + \sum_i m_i r \wedge ((r_i-r).\omega)$$后面补的那项其实为零，因为有：$$\sum_i m_i r \wedge ((r_i-r).\omega)&#x3D;mr\wedge((r-r).\omega)&#x3D;0$$我们可以看出，质心的位置只影响轨道角动量而不影响自转角动量。因此不妨可假设质心位于原点，前面这个表达式可写成$$S&#x3D;\sum_i m_i r_i \wedge (r_i.\omega)$$到这一步无法再继续化简了。我们设单个质点的坐标为$r_i&#x3D;(r_{xi},r_{yi},r_{zi},r_{wi})$，把楔积和点积都按坐标展开通过冗长的计算可得上式等价于下面的一个矩阵表达式：<br>$$S &#x3D; \mathrm{I}\omega$$其中$$\mathrm{I}&#x3D;\sum_i m_i\begin{pmatrix}r_{xi}^2+r_{yi}^2&amp;r_{yi}r_{zi}&amp;r_{yi}r_{wi}&amp;-r_{xi}r_{zi}&amp;-r_{xi}r_{wi}&amp;0\\r_{yi}r_{zi}&amp;r_{xi}^2+r_{zi}^2&amp;r_{zi}r_{wi}&amp;r_{xi}r_{yi}&amp;0&amp;-r_{xi}r_{wi}\\r_{yi}r_{wi}&amp;r_{zi}r_{wi}&amp;r_{xi}^2+r_{wi}^2&amp;0&amp;r_{xi}r_{yi}&amp;r_{xi}r_{zi}\\-r_{xi}r_{zi}&amp;r_{xi}r_{yi}&amp;0&amp;r_{yi}^2+r_{zi}^2&amp;r_{zi}r_{wi}&amp;-r_{yi}r_{wi}\\-r_{xi}r_{wi}&amp;0&amp;r_{xi}r_{yi}&amp;r_{zi}r_{wi}&amp;r_{yi}^2+r_{wi}^2&amp;r_{yi}r_{zi}\\0&amp;-r_{xi}r_{wi}&amp;r_{xi}r_{zi}&amp;-r_{yi}r_{wi}&amp;r_{yi}r_{zi}&amp;r_{zi}^2+r_{wi}^2\end{pmatrix}$$我们把2-向量$S$与$\omega$看成是以{$e_{xy},e_{xz},e_{xw},e_{yz},e_{yw},e_{zw}$}为基的六维向量。那一大坨矩阵$\mathrm{I}$就是所谓的四维转动惯量矩阵。转动惯量是种张量：它本质是把角速度映射到角动量的线性映射，张量与矩阵的关系类似向量与坐标的关系：同样的张量选择了不同的坐标系后会有不同的矩阵形式。</p>
<p>最后我们整理一下刚体角动量的公式，这个公式在任何维度下都成立，只不过惯量矩阵越来越庞大，其边长随维度平方级增长，整体元素随维度四次方增长，我们把2-向量看作二阶张量， 其实是个四阶张量。<br>$$J&#x3D;L+S&#x3D;(mr\wedge v)+\mathrm{I}\omega$$</p>
<h4 id="选读2：主轴定理的证明"><a href="#选读2：主轴定理的证明" class="headerlink" title="选读2：主轴定理的证明"></a>选读2：主轴定理的证明</h4><h5 id="主轴与矩阵对角化"><a href="#主轴与矩阵对角化" class="headerlink" title="主轴与矩阵对角化"></a>主轴与矩阵对角化</h5><p>三维世界的长方体的转动惯量是一个对角矩阵，而一般图形的惯量矩阵由于都是实对称的，根据线性代数一定能够找到一个旋转变换$R$将该矩阵对角化，即$\mathrm{I}’&#x3D;\mathrm{RIR}^{-1}$，且旋转矩阵$\mathrm{R}$由$\mathrm{I}$的特征向量组成。<br>同理容易知道四维的超长方体的转动惯量也是一个对角矩阵，我们可以用同样的方法将其对角化：$$\mathrm{I}’&#x3D;\mathrm{RIR}^{-1}&#x3D;\mathrm{diag}(I_{xy},I_{xz},I_{xw},I_{yz},I_{yw},I_{zw})$$其中$\mathrm{R}$为$\mathrm{I}$的特征向量组成的六维正交矩阵，$I_{ij}$为对应的特征值。<br>但注意现在矩阵是六维的，就算得到了变换矩阵$R$也是在六维的2-向量空间中的正交变换，但四维旋转的自由度是6，六维旋转的自由度却是15，因此求出了六维空间中的正交变换不一定能对应到合法的四维空间旋转，问题似乎在这里卡住了。</p>
<h5 id="等角坐标下的惯量矩阵"><a href="#等角坐标下的惯量矩阵" class="headerlink" title="等角坐标下的惯量矩阵"></a>等角坐标下的惯量矩阵</h5><p>从转动惯量的矩阵表达式中我们能够发现一些规律，比如矩阵是对称的，且副对角线元素始终为0（由于绝对垂直的旋转不会相互影响造成的）。我们还知道左右等角旋转是互不干扰的，这启发我们如果转换到“等角坐标系”中转动惯量矩阵形式说不定能够解耦成更小的分块矩阵处理，从而得到转动惯量的更多性质，解耦还有个好处就是可以降低找主轴对角化矩阵的维数，消除冗余自由度，或许能避开刚才的困境。</p>
<p>我们将原来的2-向量的六个坐标面组成的基$$e_{xy},e_{xz},e_{xw},e_{yz},e_{yw},e_{zw}$$变换成三个自对偶与三个反自对偶单位2-向量组成的基：$${\sqrt 2\over 2}(e_{xy}+e_{zw}),{\sqrt 2\over 2}(e_{xz}-e_{yw}),{\sqrt 2\over 2}(e_{xw}+e_{yz}),{\sqrt 2\over 2}(e_{xy}-e_{zw}),{\sqrt 2\over 2}(e_{xz}+e_{yw}),{\sqrt 2\over 2}(e_{xw}-e_{yz})$$则在新的坐标系下，转动惯量矩阵$\mathrm{I}$变成了<br>$$\mathrm{I}’&#x3D;\sum_i m_i\begin{pmatrix}<br>\frac{1}{2}(r_{xi}^2+r_{yi}^2+r_{zi}^2+r_{wi}^2)&amp;0&amp;0&amp;\frac{1}{2}(r_{xi}^2+r_{yi}^2-r_{zi}^2-r_{wi}^2)&amp;r_{yi}r_{zi}-r_{xi}r_{wi}&amp;r_{xi}r_{zi}+r_{yi}r_{wi}\\0&amp;\frac{1}{2}(r_{xi}^2+r_{yi}^2+r_{zi}^2+r_{wi}^2)&amp;0&amp;r_{xi}r_{wi}+r_{yi}r_{zi}&amp;\frac{1}{2}(r_{xi}^2-r_{yi}^2+r_{zi}^2-r_{wi}^2)&amp;r_{zi}r_{wi}-r_{xi}r_{yi}\\0&amp;0&amp;\frac{1}{2}(r_{xi}^2+r_{yi}^2+r_{zi}^2+r_{wi}^2)&amp;r_{yi}r_{wi}-r_{xi}r_{zi}&amp;r_{xi}r_{yi}+r_{zi}r_{wi}&amp;\frac{1}{2}(r_{xi}^2-r_{yi}^2-r_{zi}^2+r_{wi}^2)\\\frac{1}{2}(r_{xi}^2+r_{yi}^2-r_{zi}^2-r_{wi}^2)&amp;r_{xi}r_{wi}+r_{yi}r_{zi}&amp;r_{yi}r_{wi}-r_{xi}r_{zi}&amp;\frac{1}{2}(r_{xi}^2+r_{yi}^2+r_{zi}^2+r_{wi}^2)&amp;0&amp;0\\r_{yi}r_{zi}-r_{xi}r_{wi}&amp;\frac{1}{2}(r_{xi}^2-r_{yi}^2+r_{zi}^2-r_{wi}^2)&amp;r_{xi}r_{yi}+r_{zi}r_{wi}&amp;0&amp;\frac{1}{2}(r_{xi}^2+r_{yi}^2+r_{zi}^2+r_{wi}^2)&amp;0\\r_{xi}r_{zi}+r_{yi}r_{wi}&amp;r_{zi}r_{wi}-r_{xi}r_{yi}&amp;\frac{1}{2}(r_{xi}^2-r_{yi}^2-r_{zi}^2+r_{wi}^2)&amp;0&amp;0&amp;\frac{1}{2}(r_{xi}^2+r_{yi}^2+r_{zi}^2+r_{wi}^2)\end{pmatrix}<br>$$这个矩阵有点庞大，但它确实能写成分块矩阵的形式：<br>$$\mathrm{I}’&#x3D;\begin{pmatrix}<br>\lambda \text{I}_{3\times 3} &amp; \text{P} \\ \text{P}^T &amp; \lambda \text{I}_{3\times 3}<br>\end{pmatrix}$$其中$\lambda&#x3D;\frac{1}{2}\sum_i m_i(r_{xi}^2+r_{yi}^2+r_{zi}^2+r_{wi}^2)$，而$\text{P}$通常为一个非对称的三阶矩阵。如果原来的矩阵是一个对角阵，变换到等角坐标后会怎样呢？设$$\mathrm{I}_1&#x3D;\mathrm{diag}(I_{xy},I_{xz},I_{xw},I_{yz},I_{yw},I_{zw})$$将其变换至等角坐标，得到$$\mathrm{I}’_1&#x3D;\frac{1}{2}\begin{pmatrix}I_{xy}+I_{zw}&amp;0&amp;0&amp;I_{xy}-I_{zw}&amp;0&amp;0\\0&amp;I_{xz}+I_{yw}&amp;0&amp;0&amp;I_{xz}-I_{yw}&amp;0\\0&amp;0&amp;I_{xw}+I_{yz}&amp;0&amp;0&amp;I_{xw}-I_{yz}\\I_{xy}-I_{zw}&amp;0&amp;0&amp;I_{xy}+I_{zw}&amp;0&amp;0\\0&amp;I_{xz}-I_{yw}&amp;0&amp;0&amp;I_{xz}+I_{yw}&amp;0\\0&amp;0&amp;I_{xw}-I_{yz}&amp;0&amp;0&amp;I_{xw}+I_{yz}\end{pmatrix}$$跟前面的$\mathrm{I}’$矩阵表达式对比可知，等角坐标下的主对角线上元素必须相等，于是有$$I_{xw}+I_{yz}&#x3D;I_{xy}+I_{zw}&#x3D;I_{xw}+I_{yz}$$从这里我们能够看出，虽然六阶矩阵对角化后有六个自由度，但转动惯量的几何性质让这个自由度只剩4个，即仅剩超长方体的四个尺寸的自由度。要证主轴定理只差最后一步：证明任何矩阵$\mathrm{I}’$都能通过四维空间的旋转变换变成$\mathrm{I}’_1$的形式。对比$\mathrm{I}’$与$\mathrm{I}’_1$可知，原来的对角矩阵转换至等角坐标下却不再是对角阵，而是$\mathrm{I}’$中的子阵$\mathrm P$也是对角阵的分块矩阵，我们只要找到合适的旋转变换能将$\text{P}$对角化即可找到旋转至主轴坐标系的变换。</p>
<h5 id="求解四维旋转变换"><a href="#求解四维旋转变换" class="headerlink" title="求解四维旋转变换"></a>求解四维旋转变换</h5><p>四维空间中的旋转变换作用在2-向量上也相当于一个六维的矩阵，它在等角坐标下的形式非常简单：由于左右等角旋转的对易性，任意的四维2-向量旋转矩阵转化到等角坐标系下将会变成含两个三阶正交矩阵（$\text{A}$、$\text{B}$）的分块矩阵：<br>$$\text{R}&#x3D;\begin{pmatrix}<br>\text{A} &amp; 0 \\ 0 &amp; \text{B}<br>\end{pmatrix}$$我们正是要靠这个旋转矩阵来把矩阵$\text{P}$化成某个对角阵$\Lambda$：$$\begin{pmatrix}<br>\text{A} &amp; 0 \\ 0 &amp; \text{B}<br>\end{pmatrix} \begin{pmatrix}<br>\lambda \text{I}_{3\times 3} &amp; \text{P} \\ \text{P}^T &amp; \lambda \text{I}_{3\times 3}<br>\end{pmatrix} \begin{pmatrix}<br>\text{A}^T &amp; 0 \\ 0 &amp; \text{B}^T<br>\end{pmatrix} &#x3D;\begin{pmatrix}<br>\lambda \text{I}_{3\times 3} &amp; \Lambda \\ \Lambda &amp; \lambda \text{I}_{3\times 3}<br>\end{pmatrix}$$<br>计算左边矩阵乘法，对比等式两边可得出$\Lambda&#x3D;\text{AP} \text{B}^T$。由于$\text{A}$、$\text{B}$都是正交阵，我们可以通过奇异值分解这个经典算法来求解$\text{A}$、$\text{B}$，求解完后则得到了等角坐标系下的完整的四维2-向量旋转矩阵$\text{R}$。</p>
<p>注意矩阵$\text{R}$是六阶的，所以还需要求出原来的四维旋转矩阵或旋转的旋量&#x2F;四元数表示。最优雅的方式是直接在等角坐标系下完成这个转换工作：正交阵$\text{A}$、$\text{B}$代表的其实就是该旋转的左右手等角旋转部分，把这些三阶正交矩阵表示的旋转直接转换成四元数表示的旋转就能得到整个旋转的四元数表示，最后要注意的是由于四元数右乘的顺序问题，矩阵B需要取一次转置再映射到四元数，正好将奇异值分解得到的$\text A$与$\text B^T$直接分别转成左乘与右乘的四元数即得到最终的四元数版旋量表示的四维旋转。</p>
</div>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wxyhly.github.io/archives/rotrigid/" data-id="clx9587wu0009ncwm268md0jc" class="article-share-link">Share</a>
      
        <a href="https://wxyhly.github.io/archives/rotrigid/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9B%9B%E7%BB%B4/" rel="tag">四维</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%89%A9%E7%90%86/" rel="tag">物理</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/archives/ggg-ord/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;&lt; Newer</strong>
      <div class="article-nav-title">
        
          大数数学简介
        
      </div>
    </a>
  
  
    <a href="/archives/so4/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older &gt;&gt;</strong>
      <div class="article-nav-title">四维计算机图形学：旋转篇</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Tesserxel%E7%B3%BB%E5%88%97/">Tesserxel系列</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9B%9B%E7%BB%B4%E4%B8%96%E7%95%8C%E7%B3%BB%E5%88%97/">四维世界系列</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9B%9B%E7%BB%B4%E7%A9%BA%E9%97%B4%E7%B3%BB%E5%88%97/">四维空间系列</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9B%9B%E7%BB%B4%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">四维计算机图形学</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E7%89%B9%E4%B8%96%E7%95%8C%E7%B3%BB%E5%88%97/">奇特世界系列</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>


  
    <div class="widget-wrap">
   <h3 class="widget-title">链接</h3>
   <div class="widget">
      <ul class="entry">
         <li><a href="https://space.bilibili.com/454422438" title="bilibili" target="_blank">WXYHLY(Hqak)的B站链接</a></li>
         <li><a href="http://hadroncfy.com" title="hadroncfy" target="_blank">Hadroncfy's Notebook</a></li>
      </ul>
   </div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/2b2t/" style="font-size: 10.91px;">2b2t</a> <a href="/tags/4dViewer/" style="font-size: 10.91px;">4dViewer</a> <a href="/tags/B%E7%AB%99%E8%A7%86%E9%A2%91/" style="font-size: 10px;">B站视频</a> <a href="/tags/Hutton32/" style="font-size: 10.91px;">Hutton32</a> <a href="/tags/Minecraft/" style="font-size: 11.82px;">Minecraft</a> <a href="/tags/javascript/" style="font-size: 15.45px;">javascript</a> <a href="/tags/tesserxel/" style="font-size: 13.64px;">tesserxel</a> <a href="/tags/webgpu/" style="font-size: 11.82px;">webgpu</a> <a href="/tags/%E4%BB%A3%E6%95%B0/" style="font-size: 11.82px;">代数</a> <a href="/tags/%E5%87%A0%E4%BD%95/" style="font-size: 17.27px;">几何</a> <a href="/tags/%E5%88%86%E5%BD%A2/" style="font-size: 10px;">分形</a> <a href="/tags/%E5%8A%A8%E7%94%BB/" style="font-size: 10.91px;">动画</a> <a href="/tags/%E5%8C%96%E5%AD%A6/" style="font-size: 10px;">化学</a> <a href="/tags/%E5%8F%8C%E6%9B%B2%E7%A9%BA%E9%97%B4/" style="font-size: 11.82px;">双曲空间</a> <a href="/tags/%E5%9B%9B%E7%BB%B4/" style="font-size: 20px;">四维</a> <a href="/tags/%E5%9B%BE%E5%BD%A2/" style="font-size: 15.45px;">图形</a> <a href="/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 11.82px;">图形学</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%95%B0%E5%AD%A6/" style="font-size: 10px;">大数数学</a> <a href="/tags/%E5%A5%87%E7%89%B9%E6%83%B3%E8%B1%A1/" style="font-size: 14.55px;">奇特想象</a> <a href="/tags/%E6%8B%93%E6%89%91%E5%AD%A6/" style="font-size: 13.64px;">拓扑学</a> <a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 19.09px;">数学</a> <a href="/tags/%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91/" style="font-size: 10px;">数理逻辑</a> <a href="/tags/%E6%9D%82%E8%AE%B0/" style="font-size: 10px;">杂记</a> <a href="/tags/%E6%A8%A1%E6%8B%9F/" style="font-size: 10.91px;">模拟</a> <a href="/tags/%E6%B8%B2%E6%9F%93/" style="font-size: 10px;">渲染</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 11.82px;">游戏</a> <a href="/tags/%E7%89%A9%E7%90%86/" style="font-size: 16.36px;">物理</a> <a href="/tags/%E7%94%B5%E8%B7%AF/" style="font-size: 10.91px;">电路</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10.91px;">算法</a> <a href="/tags/%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0/" style="font-size: 18.18px;">系列文章</a> <a href="/tags/%E7%BE%A4%E8%AE%BA/" style="font-size: 12.73px;">群论</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 10px;">翻译</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E6%9C%BA/" style="font-size: 10.91px;">自动机</a> <a href="/tags/%E8%87%AA%E6%88%91%E6%8F%8F%E8%BF%B0/" style="font-size: 10.91px;">自我描述</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 10px;">递归</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 10px;">音乐</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/">2024</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">19</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/archives/mesh4d/">四维计算机图形学：建模篇</a>
          </li>
        
          <li>
            <a href="/archives/1stlogic/">公理化集合论简介</a>
          </li>
        
          <li>
            <a href="/archives/ggg-ord/">大数数学简介</a>
          </li>
        
          <li>
            <a href="/archives/rotrigid/">四维世界（十）：旋转动力学</a>
          </li>
        
          <li>
            <a href="/archives/so4/">四维计算机图形学：旋转篇</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 wxyhly<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives/" class="mobile-nav-link">Archives</a>
  
    <a href="/programs/" class="mobile-nav-link">Programs</a>
  
    <a href="/about/" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'wxyhly';
  
  var disqus_url = 'https://wxyhly.github.io/archives/rotrigid/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<style>
mjx-container {
  display: inline-grid;
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 102%;
}
mjx-container::-webkit-scrollbar-thumb {
  background-color: gray;
  border-radius: 2px;
}
mjx-container::-webkit-scrollbar {
  background-color: lightgray;
  height: 6px;
}
mjx-assistive-mml{
  width: 0% !important;
}
</style>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
        tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
        messageStyle: "none"
    }); 
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script defer>
const setJax = function(){
  setTimeout(function(){
    document.querySelectorAll("mjx-container").forEach(function(e){
      const overflow = e.scrollWidth > (e.clientWidth ? e.clientWidth + 3 : (document.querySelector(".article-entry").clientWidth - 120));
      e.style.overflowX = overflow ? "scroll" : "hidden";
      e.onclick = function(){
        const overflow = e.scrollWidth > (e.clientWidth ? e.clientWidth + 3 : (document.querySelector(".article-entry").clientWidth - 120));
        e.style.overflowX = overflow ? "scroll" : "hidden";
      };
    })
  },1000);  
}
window.addEventListener("resize", setJax);
MathJax = {
  tex: {
    inlineMath: [['$', '$']]
  },
  "HTML-CSS": { linebreaks: { automatic: true } },
  SVG: { linebreaks: { automatic: true } },
  startup: {
    pageReady: function(){
      return MathJax.startup.defaultPageReady().then(setJax);
    }
  }
};
</script>
<script type="text/javascript" defer
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js">
</script>

  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>